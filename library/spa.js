let mu=location.pathname;history.replaceState({su:mu},"",mu);async function spa(t,e=!0){if(t==mu)return;document.querySelector("#__ANIM").classList.add("anim");const a=await fetch(t);if(200==!a.status)return;const n=await a.text(),o=n.substring(n.indexOf("<div data-__start")+24,n.indexOf("<div data-__end"));document.querySelector(`[data-__su="${mu}"]`).remove(),document.querySelector("[data-__start]").insertAdjacentHTML("afterend",o),window.scrollTo(0,0),document.querySelector("#__CONTENT").dataset.__su=t,document.querySelector("#__ANIM").classList.remove("anim");const s=document.querySelector(`[data-__su="${t}"]`).dataset.page_title;document.querySelector("title").textContent=s,mu=t,e&&history.pushState({su:t},"",t)}document.querySelector("#__CONTENT").dataset.__su=mu,window.addEventListener("popstate",(t=>{spa(t.state.su,!1)}));